--建立資料庫
CREATE database dinbendon;
USE dinbendon;

-- 建立資料表
create table member
(
  memberId int auto_increment primary key,
  memberName varchar(20) not null,
  memberPhone varchar(20) not null,
  companyName varchar(20) not null,
  address varchar(50) not null
);

CREATE TABLE restaurant(
    restaurantId int auto_increment not null primary key,
    restaurantName varchar(20) not null,
    restaurantPhone varchar(20) not null,
    restaurantAddress varchar(50) not null
); 

create table menu
(
  menuId int auto_increment primary key,
  restaurantId int not null,
  dishName varchar(10) not null,
  price int not null,
  CONSTRAINT restaurantId foreign key (restaurantId) references reataurant (restaurantId)
  ON DELETE CASCADE
  ON UPDATE CASCADE
);

create table orders
(
  orderId int auto_increment primary key,
  memberId int,
  menuId int,
  totalPrice int NOT NULL,
  date timestamp,
  CONSTRAINT memberId foreign key (memberId) references member (memberId)
  ON DELETE CASCADE
  ON UPDATE CASCADE,
  CONSTRAINT menuId foreign key (menuId) references menu (menuId)
  ON DELETE CASCADE
  ON UPDATE CASCADE
);

